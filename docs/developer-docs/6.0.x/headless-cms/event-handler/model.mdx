---
id: bxdbed4t
title: Model Event Handlers
description: Which event handlers are available in Headless CMS Models and how to use them.
---

import {Alert} from "@/components/Alert";

<Alert type="success" title="WHAT YOU'LL LEARN">

- Which event handlers are available for Models?
- How to use them?
- How to load them in your project?

</Alert>

## Overview
Headless CMS provides events for users to hook into.

With the events you can hook into a number of different Model related operations, all of which are listed here.

## Create a Model

### ModelBeforeCreateEventHandler

```typescript extensions/cms/model/eventHandler/create/beforeCreate.ts
import { ModelBeforeCreateEventHandler as ModelBeforeCreateEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelBeforeCreateEventHandlerImpl
    implements ModelBeforeCreateEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelBeforeCreateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Trying to create a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeCreateEventHandler = ModelBeforeCreateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeCreateEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelBeforeCreateEventHandler;
```

### ModelAfterCreateEventHandler

```typescript extensions/cms/model/eventHandler/create/afterCreate.ts
import { ModelAfterCreateEventHandler as ModelAfterCreateEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelAfterCreateEventHandlerImpl
    implements ModelAfterCreateEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelAfterCreateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Created a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterCreateEventHandler = ModelAfterCreateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterCreateEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelAfterCreateEventHandler;
```

## Update a Model

### ModelBeforeUpdateEventHandler

```typescript extensions/cms/model/eventHandler/update/beforeUpdate.ts
import { ModelBeforeUpdateEventHandler as ModelBeforeUpdateEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelBeforeUpdateEventHandlerImpl
    implements ModelBeforeUpdateEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelBeforeUpdateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Trying to update a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeUpdateEventHandler = ModelBeforeUpdateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeUpdateEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelBeforeUpdateEventHandler;
```

### ModelAfterUpdateEventHandler

```typescript extensions/cms/model/eventHandler/update/afterUpdate.ts
import { ModelAfterUpdateEventHandler as ModelAfterUpdateEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelAfterUpdateEventHandlerImpl
    implements ModelAfterUpdateEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelAfterUpdateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Updated a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterUpdateEventHandler = ModelAfterUpdateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterUpdateEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelAfterUpdateEventHandler;
```

## Create a Model From Existing One

### ModelBeforeCreateFromEventHandler

```typescript extensions/cms/model/eventHandler/createFrom/beforeCreateFrom.ts
import { ModelBeforeCreateFromEventHandler as ModelBeforeCreateFromEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelBeforeCreateFromEventHandlerImpl
    implements ModelBeforeCreateFromEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelBeforeCreateFromEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Trying to create a model from:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeCreateFromEventHandler =
    ModelBeforeCreateFromEventHandlerAbstraction.createImplementation({
        implementation: ModelBeforeCreateFromEventHandlerImpl,
        dependencies: [Logger]
    });

export default ModelBeforeCreateFromEventHandler;

```

### ModelAfterCreateFromEventHandler

```typescript extensions/cms/model/eventHandler/createFrom/afterCreateFrom.ts
import { ModelAfterCreateFromEventHandler as ModelAfterCreateFromEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelAfterCreateFromEventHandlerImpl
    implements ModelAfterCreateFromEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelAfterCreateFromEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Created a model from:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterCreateFromEventHandler =
    ModelAfterCreateFromEventHandlerAbstraction.createImplementation({
        implementation: ModelAfterCreateFromEventHandlerImpl,
        dependencies: [Logger]
    });

export default ModelAfterCreateFromEventHandler;

```

## Delete a Model

### ModelBeforeDeleteEventHandler

```typescript extensions/cms/model/eventHandler/delete/beforeDelete.ts
import { ModelBeforeDeleteEventHandler as ModelBeforeDeleteEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelBeforeDeleteEventHandlerImpl
    implements ModelBeforeDeleteEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelBeforeDeleteEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Trying to delete a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeDeleteEventHandler = ModelBeforeDeleteEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeDeleteEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelBeforeDeleteEventHandler;
```

### ModelAfterDeleteEventHandler

```typescript extensions/cms/model/eventHandler/delete/afterDelete.ts
import { ModelAfterDeleteEventHandler as ModelAfterDeleteEventHandlerAbstraction } from "webiny/api/cms/model";
import { Logger } from "webiny/api/logger";

class ModelAfterDeleteEventHandlerImpl
    implements ModelAfterDeleteEventHandlerAbstraction.Interface
{
    public constructor(private logger: Logger.Interface) {}

    public async handle(event: ModelAfterDeleteEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        this.logger.info("Deleted a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterDeleteEventHandler = ModelAfterDeleteEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterDeleteEventHandlerImpl,
        dependencies: [Logger]
    }
);

export default ModelAfterDeleteEventHandler;
```

## Loading Event Handlers in Your Project

All the event handlers MUST be exported as `default export` from the file, otherwise it will not work.

To load the event handlers in your project, you need to add them in the root `webiny.config.tsx` file, like this:

```tsx webiny.config.tsx
import React from "react";
import { Api } from "webiny/extensions";

export const Extensions = () => {
    return (
        <>
            {/* ... all your other extensions */}
            <Api.Extension src={"/extensions/cms/model/eventHandler/create/beforeCreate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/create/afterCreate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/createFrom/beforeCreateFrom.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/createFrom/afterCreateFrom.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/update/beforeUpdate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/update/afterUpdate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/delete/beforeDelete.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/delete/afterDelete.ts"} />
        </>
    );
};
```
