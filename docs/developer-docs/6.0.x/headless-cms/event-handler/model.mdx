---
id: bxdbed4t
title: Model Event Handlers
description: Which event handlers are available in Headless CMS Models and how to use them.
---

import {Alert} from "@/components/Alert";

<Alert type="success" title="WHAT YOU'LL LEARN">

- Which event handlers are available for Models?
- How to use them?
- How to load them in your project?

</Alert>

## Overview

In our Headless CMS we provide events for our users to hook into.

With the lifecycle events you can hook into a number of different Model related operations, all of which we will list here.

## Create a Model

### ModelBeforeCreateEventHandler

```typescript extensions/cms/model/eventHandler/create/beforeCreate.ts
import {ModelBeforeCreateEventHandler as ModelBeforeCreateEventHandlerAbstraction} from "webiny/api/cms/model";

class ModelBeforeCreateEventHandlerImpl
    implements ModelBeforeCreateEventHandlerAbstraction.Interface
{
    public async handle(event: ModelBeforeCreateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Trying to create a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeCreateEventHandler = ModelBeforeCreateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeCreateEventHandlerImpl,
        dependencies: []
    }
);

export default ModelBeforeCreateEventHandler;
```

### ModelAfterCreateEventHandler

```typescript extensions/cms/model/eventHandler/create/beforeCreate.ts
import { ModelAfterCreateEventHandler as ModelAfterCreateEventHandlerAbstraction } from "webiny/api/cms/model";

class ModelAfterCreateEventHandlerImpl
    implements ModelAfterCreateEventHandlerAbstraction.Interface
{
    public async handle(event: ModelAfterCreateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Created a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterCreateEventHandler = ModelAfterCreateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterCreateEventHandlerImpl,
        dependencies: []
    }
);

export default ModelAfterCreateEventHandler;
```

## Update a Model

### ModelBeforeUpdateEventHandler

```typescript extensions/cms/model/eventHandler/update/beforeUpdate.ts
import { ModelBeforeUpdateEventHandler as ModelBeforeUpdateEventHandlerAbstraction } from "webiny/api/cms/model";

class ModelBeforeUpdateEventHandlerImpl
    implements ModelBeforeUpdateEventHandlerAbstraction.Interface
{
    public async handle(event: ModelBeforeUpdateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Trying to update a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeUpdateEventHandler = ModelBeforeUpdateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeUpdateEventHandlerImpl,
        dependencies: []
    }
);

export default ModelBeforeUpdateEventHandler;
```

### ModelAfterUpdateEventHandler

```typescript extensions/cms/model/eventHandler/update/beforeUpdate.ts
import { ModelAfterUpdateEventHandler as ModelAfterUpdateEventHandlerAbstraction } from "webiny/api/cms/model";

class ModelAfterUpdateEventHandlerImpl
    implements ModelAfterUpdateEventHandlerAbstraction.Interface
{
    public async handle(event: ModelAfterUpdateEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Updated a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterUpdateEventHandler = ModelAfterUpdateEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterUpdateEventHandlerImpl,
        dependencies: []
    }
);

export default ModelAfterUpdateEventHandler;
```

## Delete a Model

### ModelBeforeDeleteEventHandler

```typescript extensions/cms/model/eventHandler/delete/beforeDelete.ts
import { ModelBeforeDeleteEventHandler as ModelBeforeDeleteEventHandlerAbstraction } from "webiny/api/cms/model";

class ModelBeforeDeleteEventHandlerImpl
    implements ModelBeforeDeleteEventHandlerAbstraction.Interface
{
    public async handle(event: ModelBeforeDeleteEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Trying to delete a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelBeforeDeleteEventHandler = ModelBeforeDeleteEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelBeforeDeleteEventHandlerImpl,
        dependencies: []
    }
);

export default ModelBeforeDeleteEventHandler;
```

### ModelAfterDeleteEventHandler

```typescript extensions/cms/model/eventHandler/delete/beforeDelete.ts
import { ModelAfterDeleteEventHandler as ModelAfterDeleteEventHandlerAbstraction } from "webiny/api/cms/model";

class ModelAfterDeleteEventHandlerImpl
    implements ModelAfterDeleteEventHandlerAbstraction.Interface
{
    public async handle(event: ModelAfterDeleteEventHandlerAbstraction.Event): Promise<void> {
        const { payload, occurredAt, eventType } = event;
        console.error("Deleted a model:", {
            payload,
            occurredAt,
            eventType
        });
    }
}

const ModelAfterDeleteEventHandler = ModelAfterDeleteEventHandlerAbstraction.createImplementation(
    {
        implementation: ModelAfterDeleteEventHandlerImpl,
        dependencies: []
    }
);

export default ModelAfterDeleteEventHandler;
```

## Loading Event Handlers in Your Project

All the event handlers MUST be exported as default export from the file, otherwise it will not work.

To load the event handlers in your project, you need to add them in the root `webiny.config.tsx` file, something like this:

```tsx webiny.config.tsx
import React from "react";
import { Api } from "webiny/extensions";

export const Extensions = () => {
    return (
        <>
            {/* ... all your other extensions */}
            <Api.Extension src={"/extensions/cms/model/eventHandler/create/beforeCreate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/create/afterCreate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/update/beforeUpdate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/update/afterUpdate.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/delete/beforeDelete.ts"} />
            <Api.Extension src={"/extensions/cms/model/eventHandler/delete/afterDelete.ts"} />
        </>
    );
};
```
