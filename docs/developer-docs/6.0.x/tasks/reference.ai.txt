AI Context: Background Tasks - Reference (tasks/reference.mdx)

Source of Information:
1. Analyzed code examples provided by the user showing background task implementation
2. Examined the task runner pattern with context and controller
3. Studied the ITasks interface and its methods
4. Reviewed task definition, triggering, and execution patterns
5. Understood the event-driven architecture with onBefore/onAfter hooks

Key Documentation Decisions:
- Comprehensive reference documentation covering all aspects
- Explained the three main components: Runner, Context, Controller
- Documented task definition structure
- Showed how to trigger tasks
- Explained task execution flow
- Included event handlers (onBeforeRun, onAfterRun)
- Added task management operations (get, list, update, delete)
- Used practical examples throughout
- Maintained junior-friendly explanations while being technically complete

Main Sections:
1. Task Definition - Structure and properties (id, name, input, etc.)
2. Triggering Tasks - Using context.tasks.trigger()
3. Task Execution - Runner pattern with iterate() and run()
4. Task Context - Available properties and methods
5. Task Controller - Control flow (abort, success, error, status)
6. Event Handlers - Lifecycle hooks
7. Task Management - CRUD operations

Pattern Observed:
- Tasks defined with name and input
- Triggered via context.tasks.trigger()
- Executed by runners using iterate() pattern
- Context provides access to task data and operations
- Controller manages task status and output
- Result pattern used throughout

Note: Document was refined after user feedback to ensure junior developers understand all concepts (async, iteration, controllers, triggering, etc.)

