---
id: f9083bbc
title: Webiny 5.40.0 Changelog
description: April 3rd, 2024
---

import { GithubRelease } from "@/components/GithubRelease";
import pulumiOutputHidden from "./assets/pulumi-output-hidden.png";
import gracefulErrorHandling from "./assets/graceful-error-handling.png";
import refreshedWebinyInfoCommand from "./assets/refreshed-webiny-info-command.png";
import improvedWebinyAboutCommand from "./assets/improved-webiny-about-command.png";
import alwaysShowingProjectDetails from "./assets/always-showing-project-details.png";
import wcpBadgeInAdmin from "./assets/wcp-badge-in-admin.png";
import hcmsAcfReferenceField from "./assets/hcms-acf-reference-field.png";
import hcmsTrashBinOverview from "./assets/hcms-trash-bin-overview.gif";
import pbDuplicatePage from "./assets/pb-duplicate-page.png";

<GithubRelease version={"5.40.0"} />

## Breaking Changes❗

### Removed Deprecated APIs ([#4051](https://github.com/webiny/webiny-js/pull/4051))

With this release, we've removed a couple of frontend and backend JavaScript APIs that were marked as deprecated in previous releases.

For more information and how to migrate your code, please refer to the separate [Removed APIs](/docs/release-notes/5.40.0/removed-apis) article.

### Updated Webiny To Use React 18 ([#3771](https://github.com/webiny/webiny-js/pull/3771))

With this release, we've updated Webiny to use React 18 (v18.2.0).
This is a really large codebase update, and it may introduce breaking changes in your project.

Most notably, we updated the [RMWC](https://github.com/rmwc/rmwc) package from version 8.x to version `14.2.2`, as the version 8 did not work with React 18.

Please check your project for any issues and update your code accordingly.

If you find any Webiny related issues, please report it on our Slack channel or GitHub repository.

## Headless CMS

### Introducing Trash Bin ([#3976](https://github.com/webiny/webiny-js/pull/3976) - [#4059](https://github.com/webiny/webiny-js/pull/4059))

With this release, we are introducing the robust and indispensable Trash Bin feature for Headless CMS, ensuring that valuable data is always recoverable.

<Image src={hcmsTrashBinOverview} title={"Trash Bin for Headless CMS"} />

#### Key Features

* **Soft Deletion**: users can move entries to the Trash Bin instead of permanent deletion, preserving data integrity.
* **Efficient Navigation**: the Trash Bin is conveniently located at the bottom left-hand side of the app screen. Each content model has its own Trash Bin.
* **User-Friendly Interface**: inside the Trash Bin, users can search, sort, and select records for restoration or permanent deletion using a familiar interface.
* **Automated Cleanup**: to maintain system efficiency, a cron job empties the Trash Bin daily. Records older than 90 days are permanently purged during each cleanup.

#### Customize Retention Period

To customize how long deleted entries are kept, developers can adjust an environment variable. For instance, if you want to set the retention period to 7 days, follow these steps:

1. Open the .env file.
2. Add this lines:

```
WEBINY_TRASH_BIN_RETENTION_PERIOD_DAYS=7
```

3. Deploy the project.

If you set the variable to 0, the default retention period (90 days) will be used.

### Support for Reference Fields in Advanced Search Filter ([#3783](https://github.com/webiny/webiny-js/pull/3783))

With this release, we are enhancing our Advanced Search Filter Builder adding the support for **reference fields**.

With the latest update, users now have the option to add reference fields in their search criteria using the easy-to-use Autocomplete input field. This means that users can search for the models that were defined during entry configuration and quickly select the referenced entry that best fits their requirements.

<Image src={hcmsAcfReferenceField} title={"Advanced Search Filter's support for reference fields"} />

## Page Builder

### Add Duplicate List and Bulk Action ([#3876](https://github.com/webiny/webiny-js/pull/3876))

With this update, we have added the highly requested "Duplicate page" action as both a bulk and list action.

Previously, the functionality was available exclusively within the page details drawer. However, we've now extended this capability to make it more accessible and convenient for users, allowing them to duplicate multiple pages at once directly from the main interface.

<Image src={pbDuplicatePage} title={"Duplicate list and bulk action"} />

## Other Improvements

### ✍️ Introducing Pulumi v6 ([#4096](https://github.com/webiny/webiny-js/pull/4096))

✍️

### ✍️ allow-local-state-files ([#4119](https://github.com/webiny/webiny-js/pull/4119))

✍️

### ✍️ Introducing the `extensions` Folder and the New Extension Scaffold ([#4111](https://github.com/webiny/webiny-js/pull/4111))

✍️

### Webiny CLI and `create-webiny-project` ([#4045](https://github.com/webiny/webiny-js/pull/4045))

With this release, we took some time to improve the [Webiny CLI](/docs/core-development-concepts/basics/webiny-cli) and the `create-webiny-project` CLI, which is used to create new Webiny projects. The focus was on improving the overall user experience and making the CLI tools more user-friendly.

In the following sections, we cover some of the user-facing improvements that were made. For a full list of changes, check out the [linked pull request](https://github.com/webiny/webiny-js/pull/4045).

#### Pulumi Output Hidden By Default

When running the `webiny deploy` command, the Pulumi output is now hidden by default. This is to reduce the amount of noise in the terminal and to make the output more readable.

<Image src={pulumiOutputHidden} title={"Pulumi Output Hidden By Default"} />

If you still want to see the Pulumi output, you can use the `--deployment-logs` flag, for example:

```bash
yarn webiny deploy --deployment-logs
```

Note that no matter if the `--deployment-logs` flag was passed or not, the Pulumi output will always be shown in case of an error.

#### Graceful Error Handling

We've improved the error handling in the Webiny CLI. Now, when an error occurs, the CLI will display a more user-friendly error message, along with a suggestion on how to resolve the issue.

<Image src={gracefulErrorHandling} title={"Graceful Error Handling"} />

Note that, at the moment, only a handful of errors are covered by this improvement. We plan to expand this feature in future releases.

#### Always Showing Project Details After A Full Deployment

After a successful full project deployment, Webiny CLI will now always show the project details.

<Image src={alwaysShowingProjectDetails} title={"Always Showing Project Details After A Full Deployment"} />

Prior to this release, the project details would need to be fetched manually by running the `webiny info` command. This way, you can quickly see the project details after a deployment.

#### Improved `webiny about` Command

The [`webiny about`](/docs/core-development-concepts/basics/webiny-cli#yarn-webiny-about) command has been improved to provide more information about the Webiny project you're working on. The command now also includes the following information:

1. the database setup the project is using
2. user's current version of NPM.
3. whether the command was run in a CI/CD environment

<Image src={improvedWebinyAboutCommand} title={'Improved "webiny about" Command'} />

#### Refreshed `webiny info` Command

The [`webiny info`](/docs/core-development-concepts/basics/webiny-cli#yarn-webiny-info-env-env) command has been visually refreshed a bit.

<Image src={refreshedWebinyInfoCommand} title={'Refreshed "webiny info" Command'} />

### Webiny Control Panel (WCP) Badge In Admin App

A small WCP badge was added to the main menu in the Admin application. 

The badge is shown when your Webiny project is linked to the Webiny Control Panel (WCP). Also, by hovering over the badge, the project ID will be displayed in a tooltip. 

<Image src={wcpBadgeInAdmin} title={"WCP Badge In Admin App"} />
