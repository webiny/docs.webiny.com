---
title: Lexical Editor
description: Introduction to Lexical Editor in Page Builder.
---

import headingElementLexicalEditor from "./assets/lexical-editor/heading-element-lexical-editor.png";
import paragraphElementLexicalEditor from "./assets/lexical-editor/paragraph-element-lexical-editor.png";
import discoverToolbarActions from "./assets/lexical-editor/discover-the-action-names.png";
import { WhatYouWillLearn } from "@/components/WhatYouWillLearn";
import { CanIUseThis } from "@/components/CanIUseThis";
import { Gallery } from "@/components/Image";
import { Alert } from "@/components/Alert";

<CanIUseThis since={"5.37.0"}  />

<WhatYouWillLearn>
  How to customize the Lexical editor in Page Builder.
</WhatYouWillLearn>

## Overview

Webiny uses [Lexical Rich Text Editor](https://lexical.dev/) to allow users to create nicely formatted rich text content quickly. Lexical Editor is created by Meta, itâ€™s open source and very customizable.

To learn more about how Lexical Editor works before starting with the custom configuration with the Webiny, check the [official docs](https://lexical.dev/docs/intro).
Also, check the [Lexical playground](https://playground.lexical.dev). You can find features that can be implemented into the Webiny apps.

In this article we will cover the Lexical Editor configuration for the heading and paragraph elements. The configuration includes toolbar actions, plugins, and Lexical nodes.

<Gallery>
<Image
  title="This is Lexical editor in the Heading element"
  src={headingElementLexicalEditor}
  style={{ width: 450 }}
/>
  <Image
    title="This is Lexical editor in the Paragraph element"
    src={paragraphElementLexicalEditor}
    style={{ width: 450 }}
  />
</Gallery>

### Discover Toolbar Actions

This section demonstrates how you can discover the names of existing toolbar actions. The easiest way to discover existing actions is to use the React Dev Tools plugins for your browser, and select the toolbar action element. From there, you can look at the Fragment key value.

<Image
  title="Discover Toolbar Actions Names"
  src={discoverToolbarActions}
  style={{ width: 450 }}
/>

## The Heading Element

The Heading element is used for adding headings. The Heading element has its own actions, plugins and nodes, which are separated from the Paragraph element.

### Toolbar
To customize the toolbar actions, you can utilize our configuration options. You have the ability to add, replace, remove, or position a toolbar action. To learn more, please refer to the topics listed below.

#### Add Action
To add a new toolbar action, you need to use the `<Heading.ToolbarAction>` component and mount it within your Admin app.

```jsx apps/admin/src/App.tsx
import React from "react";
...
import { LexicalEditorConfig } from "@webiny/app-page-builder";
// Imports for the custom toolbar action
import { useLexicalComposerContext } from "@lexical/react/LexicalComposerContext";
import { FORMAT_TEXT_COMMAND } from "lexical";
import { useRichTextEditor } from "~/hooks/useRichTextEditor";

const MyCustomBoldActon = () => {
  {
    /* Access to native Lexical hooks */
  }
  const [editor] = useLexicalComposerContext();
  const [isBold, setIsBold] = useState(false);
  {
    /* Check the selected text, nodes and toolbar state with useRichTextEditor hook */
  }
  const { textBlockSelection } = useRichTextEditor();
  const isBoldSelected = !!textBlockSelection?.state?.bold;

  const handleClick = () => {
    editor.dispatchCommand(FORMAT_TEXT_COMMAND, "bold");
    setIsBold(!isBold);
  };

  useEffect(() => {
    setIsBold(isBoldSelected);
  }, [isBoldSelected]);

  return (
    <button
      onClick={() => handleClick()}
      className={"popup-item spaced " + (isBold ? "active" : "")}
      aria-label="Format text as bold"
    >
      <i className="format my-bold-icon" />
    </button>
  );
};

// Access to heading element
const { Heading } = LexicalEditorConfig;

export const App: React.FC = () => {
  return (
    <Admin>
      <Cognito />
      <LexicalEditorConfig>
        <Heading.ToolbarAction
          name={"myCustomBoldActon"}
          element={<MyCustomBoldActon />}
        />
      </LexicalEditorConfig>
    </Admin>
  );
};
```

#### Replace Action
To replace an existing action with a new action element, you need to reference the existing action by name, and pass a new element via the `element` prop:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  <Heading.ToolbarAction name={"bold"} element={<MyCustomBoldActon />} />
</LexicalEditorConfig>
```

#### Remove Action
To remove an action, pass a `remove` prop to the `<Heading.ToolbarAction>` element:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  <Heading.ToolbarAction name={"fontSize"} remove />
</LexicalEditorConfig>
```

#### Position Action
To position an existing or new custom action you can use `before` or `after` props on the `<Heading.ToolbarAction>` element:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  {/* Position your action after the font size action */}
  <Heading.ToolbarAction
    name={"myCustomBoldActon"}
    element={<MyCustomBoldActon />}
    before={"fontSize"}
  />
  {/* Position the existing font size action after the new custom action */}
  <Heading.ToolbarAction name={"fontSize"} after={"myCustomBoldActon"} />
</LexicalEditorConfig>;
```

#### Built-in Toolbar Actions

| Component | Name | Description |
| --- | --- | --- |
| FontSizeAction | fontSize | Set font size  |
| FontColorAction | fontColor | Change the font color of the text |
| TypographyAction | typography | Apply typography styles specified in the theme for the particular selected block of text. For example paragraph, header, list, etc. |
|  BoldAction | boldAction | Set bold to the selected text. |
| ItalicAction | italic | Set the italic style to the text. |
| UnderlineAction | underline | Set underline style to the text. |
| CodeHighlightAction | codeHighlight | Apply code highlight to the text. |
| NumberedListAction | numberedList | Convert the header or paragraph text block into a numbered list. |
| BulletListAction | bulletList | Convert the header or paragraph text block into a bullet list. |
| ImageAction | image | Open File Manager where the user can select and insert one image at a time.  |
| LinkAction | link | Open a pop-up where the user can set the URL and convert the text to a link. |
| QuoteAction | quote | Convert the selected text block to a quote. |

### Plugins
You have the ability to add, replace, remove, or position Lexical plugins. To learn more, please refer to the topics listed below.
Please read the [official docs](https://lexical.dev/docs/react/plugins) for more information about the Lexical plugins.

#### Add Plugin
To add a new Lexical plugin, you need to use the `<Heading.Plugin>` component and mount it within your Admin app.
```jsx apps/admin/src/App.tsx
function CustomFloatingLinkEditor({
  editor,
  anchorElem,
}: {
  editor: LexicalEditor;
  anchorElem: HTMLElement;
}): JSX.Element {
  const editorRef = useRef<HTMLDivElement | null>(null);
  const inputRef = useRef<HTMLInputElement>(null);
  const [linkUrl, setLinkUrl] = useState("");
  const [isEditMode, setEditMode] = useState(false);
  const [lastSelection, setLastSelection] = useState<
    RangeSelection | GridSelection | NodeSelection | null
  >(null);
  const [showInputType, setShowInputType] =
    useState<InputType>("custom-link-input");
  ...
  return (
    <div ref={editorRef} className="custom-link-editor">
      <>
        <h1 className={"custom-link-title"}>My custom link form</h1>
        {isEditMode ? (
          <>
            <LinkEditForm
              showInputType={showInputType}
              linkUrl={linkUrl}
              lastSelection={lastSelection}
              inputRef={inputRef}
              setEditMode={setEditMode}
              editor={editor}
              setLinkUrl={setLinkUrl}
            />
          </>
        ) : (
          <>
            <LinkPreviewForm
              showPreviewForInputType={showInputType}
              linkUrl={linkUrl}
              setEditMode={setEditMode}
              removeLink={removeLink}
            />
          </>
        )}
      </>
    </div>
  );
}

function useFloatingLinkEditorToolbar(
  editor: LexicalEditor,
  anchorElem: HTMLElement
): JSX.Element | null {
  const [activeEditor, setActiveEditor] = useState(editor);
  const [isLink, setIsLink] = useState(false);
  ...
  return isLink
    ? createPortal(
        <CustomFloatingLinkEditor
          editor={activeEditor}
          anchorElem={anchorElem}
        />,
        anchorElem
      )
    : null;
}

function CustomFloatingLinkEditorPlugin({
  anchorElem = document.body,
}: {
  anchorElem?: HTMLElement;
}): JSX.Element | null {
  const [editor] = useLexicalComposerContext();
  return useFloatingLinkEditorToolbar(editor, anchorElem);
}

<Heading.Plugin
  name={"customFloatingLinkEditor"}
  element={<CustomFloatingLinkEditorPlugin />}
/>;
```

A custom form is created by our plugin in the floating link popup to enable users to edit links. You can refer to [our example](https://github.com/webiny/webiny-examples/tree/master/lexical-editor-configuration-api) for a step-by-step guide.

#### Replace Plugin
To replace an existing plugin with a new plugin, you need to reference the existing plugin by name, and pass a new element via the `element` prop:
```jsx apps/admin/src/App.tsx
<Heading.Plugin name={"link"} element={<CustomFloatingLinkEditorPlugin />} />
```

#### Remove Plugin
To remove a plugin, pass a `remove` prop to the `<Heading.Plugin>` element:
```jsx apps/admin/src/App.tsx
<Heading.Plugin name={"link"} remove />;
```
#### Position Plugin
To position existing or custom plugins you can use `before` or `after` props on the `<Heading.Plugin>` element:
```jsx apps/admin/src/App.tsx
{/* To add new plugin after the font size plugin */}
<Heading.Plugin
  name={"newPlugin"}
  element={<NewPlugin />}
  after={"fontSize"}
/>;
{/* Position the existing plugin before your new plugin */}
<Heading.Plugin name={"link"} before={"newPlugin"} />;
```

#### Built-in Plugins

| Component | Name | Description |
| --- | --- | --- |
| FontColorPlugin | fontColor | Apply font color to the text. |
| ListPlugin | list | Format the bullet and numbered lists. |
| CodeHighlightPlugin | codeHighlight | Format code highlight. |
| TypographyPlugin | typography | Format and apply typography styles for the selected text block. |
| LinkPlugin | link | Format text to link. |
| FloatingLinkEditorPlugin | floatingLinkEditor | Manage the form and position of the floating pop-up window where the user can edit the links.  |
| ImagesPlugin | images | Insert and edit an image. |
| QuotePlugin | quote | Format the selected text block to quote. This plugin will create quoteblock html tag.  |

### Nodes
You have the ability to add, replace, remove, or position Lexical nodes. To learn more, please refer to the topics listed below.

<Alert type={"warning"}>
  Built-in nodes cannot be removed or replaced to avoid existing data corruption. You can only remove or replace your custom nodes, or nodes added by other 3rd party plugins.
</Alert>

Please read the [official docs](https://lexical.dev/docs/concepts/nodes) for more information about the Lexical nodes.

#### Add Node
To add a new Lexical node, you need to use the `<Heading.Node>` component and mount it within your Admin app. After, pass the node class via the `node` prop.
```jsx apps/admin/src/App.tsx
import type { EditorConfig, SerializedTextNode, Spread } from "lexical";
...
import { TextNode } from "lexical";

export type SerializedEmojiNode = Spread<
  {
    className: string;
  },
  SerializedTextNode
>;

export class EmojiNode extends TextNode {
  __className: string;

  static getType(): string {
    return "emoji";
  }

  static clone(node: EmojiNode): EmojiNode {
    return new EmojiNode(node.__className, node.__text, node.__key);
  }

  constructor(className: string, text: string, key?: NodeKey) {
    super(text, key);
    this.__className = className;
  }

  createDOM(config: EditorConfig): HTMLElement {
    const dom = document.createElement("span");
    const inner = super.createDOM(config);
    dom.className = this.__className;
    inner.className = "emoji-inner";
    dom.appendChild(inner);
    return dom;
  }

  static importJSON(serializedNode: SerializedEmojiNode): EmojiNode {
    const node = $createEmojiNode(
      serializedNode.className,
      serializedNode.text
    );
    node.setFormat(serializedNode.format);
    node.setDetail(serializedNode.detail);
    node.setMode(serializedNode.mode);
    node.setStyle(serializedNode.style);
    return node;
  }
  ...
}

<Heading.Node name={"emojiNode"} node={EmojiNode} />;
```

Please check the official [Lexical documentation](https://github.com/facebook/lexical/blob/main/packages/lexical-playground/src/nodes/EmojiNode.tsx) for full example. 

#### Replace Node
To replace your custom Lexical node with a new node, you need to reference the existing node by name, and pass a new node class via the `node` prop:
```jsx apps/admin/src/App.tsx
<Heading.Node name={"emojiNode"} node={MyExtendedEmojiNode} />;
```

#### Remove Node
To remove a Lexical node, pass a `remove` prop to the `<Heading.Node>` element:
```jsx apps/admin/src/App.tsx
<Heading.Node name={"emojiNode"} remove />
```

#### Position Node
To position your nodes, you can use `before` or `after` props on the `<Heading.Node>` element:
```jsx apps/admin/src/App.tsx
<Heading.Node name={"emojiNode"} node={EmojiNode} after={"newNode"} />;
<Heading.Node name={"newNode"} node={NewNode} before={"myExtendedEmojiNode"} />;
```

### Built-in Nodes

| Node Class | Node type | Imported from Lexical framework | API access | Overrides the default Lexical node |
| --- | --- | --- | --- | --- |
| FontColorNode | font-color-node |  | No | No |
| ImageNode | image | No | No | No |
| ListNode | webiny-list | No | No | No |
| ListItemNode | webiny-listitem | No | No | No |
| CodeNode | code | Yes | No | No |
| HashtagNode | hashtag | Yes | No | No |
| CodeHighlightNode | code-highlight | Yes | No | No |
| TypographyElementNode | typography-el-node | No | No | No |
| ParagraphNode | paragraph-element | No | No | Yes |
| HeaderNode | header-element | No | No | Yes |
| QuoteNode | webiny-quote | No | No | Yes |

## The Paragraph Element

The Paragraph element is used for writing the main page content. It has its own action, plugins, and nodes.

### Toolbar
To customize the toolbar actions, you can utilize our configuration options. You have the ability to add, replace, remove, or position a toolbar action. To learn more, please refer to the topics listed below.

#### Add Action
To add a new toolbar action, you need to use the `<Paragraph.ToolbarAction>` component and mount it within your Admin app.
```jsx apps/admin/src/App.tsx
import React from "react";
import { LexicalEditorConfig } from "@webiny/app-page-builder";

// Access to paragraph element
const { Paragraph } = LexicalEditorConfig;

const MyCustomBoldActon = () => {
  export const App: React.FC = () => {
    return (
      <Admin>
        <Cognito />
        <LexicalEditorConfig>
          {/* Use the same MyCustomBoldActon component from the header element section */}
          <Paragraph.ToolbarAction
            name={"myCustomBoldActon"}
            element={<MyCustomBoldActon />}
          />
        </LexicalEditorConfig>
      </Admin>
    );
  };
};

```
#### Replace Action
To replace an existing action with a new action element, you need to reference the existing action by name, and pass a new element via the `element` prop:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  <Paragraph.ToolbarAction name={"bold"} element={<MyCustomBoldActon />} />
</LexicalEditorConfig>
```

#### Remove Action
To remove an action, pass a remove prop to the `<Paragraph.ToolbarAction>` element:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  <Paragraph.ToolbarAction name={"fontSize"} remove />
</LexicalEditorConfig>
```

#### Position Action
To position existing or new custom action you can use `before` or `after` props on the `<Paragraph.ToolbarAction>` element:
```jsx apps/admin/src/App.tsx
<LexicalEditorConfig>
  {/* Position your action after the font size action */}
  <Paragraph.ToolbarAction
    name={"myCustomBoldActon"}
    element={<MyCustomBoldActon />}
    before={"fontSize"}
  />
  {/* Position the existing font size action after the new custom action */}
  <Paragraph.ToolbarAction name={"fontSize"} after={"myCustomBoldActon"} />
</LexicalEditorConfig>;
```

### Plugins
You have the ability to add, replace, remove, or position Lexical plugins. To learn more, please refer to the topics listed below.
Please read the [official docs](https://lexical.dev/docs/react/plugins) for more information about the Lexical plugins.
#### Add Plugin
To add a new Lexical plugin, you need to use the `<Paragraph.Plugin>` component and mount it within your Admin app.
```jsx apps/admin/src/App.tsx
{
  /* Use the same CustomFloatingLinkEditorPlugin component from the header element section */
}
<Paragraph.Plugin
  name={"customFloatingLinkEditor"}
  element={<CustomFloatingLinkEditorPlugin />}
/>;
```

A custom form is created by our plugin in the floating link popup to enable users to edit links. You can refer to [our example](https://github.com/webiny/webiny-examples/tree/master/lexical-editor-configuration-api) for a step-by-step guide.

#### Replace Plugin
To replace an existing plugin with a new plugin, you need to reference the existing plugin by name, and pass a new element via the `element` prop:
```jsx apps/admin/src/App.tsx
<Paragraph.Plugin name={"link"} element={<CustomFloatingLinkEditorPlugin />} />
```

#### Remove Plugin
To remove a plugin, pass a `remove` prop to the `<Paragraph.Plugin>` element:
```jsx apps/admin/src/App.tsx
<Paragraph.Plugin name={"link"} remove />;
```
#### Position Plugin
To position existing or custom plugins you can use `before` or `after` props on the `<Paragraph.Plugin>` element:
```jsx apps/admin/src/App.tsx
{/* To add new plugin after the font size plugin */}
<Paragraph.Plugin
  name={"newPlugin"}
  element={<NewPlugin />}
  after={"fontSize"}
/>;
{/* Position the existing plugin before your new plugin */}
<Paragraph.Plugin name={"link"} before={"newPlugin"} />;
```


### Nodes
You have the ability to add, replace, remove, or position Lexical nodes. To learn more, please refer to the topics listed below.

<Alert type={"warning"}>
  Built-in nodes cannot be removed or replaced to avoid existing data corruption. You can only remove or replace your custom nodes, or nodes added by other 3rd party plugins.
</Alert>

Please read the [official docs](https://lexical.dev/docs/concepts/nodes) for more information about the Lexical nodes.

#### Add Node
To add a new lexical node, you need to use the `<Paragraph.Node>` component and mount it within your Admin app. After, pass the node class via the `node` prop.
```jsx apps/admin/src/App.tsx
{/* Use the same EmojiNode class from the header element section */}
<Paragraph.Node name={"emojiNode"} node={EmojiNode} />;
```

Please check the official [Lexical documentation](https://github.com/facebook/lexical/blob/main/packages/lexical-playground/src/nodes/EmojiNode.tsx) for full example.

#### Replace Node
To replace your custom Lexical node with a new node, you need to reference the existing node by name, and pass a new node class via the `node` prop:
```jsx apps/admin/src/App.tsx
<Paragraph.Node name={"emojiNode"} node={MyExtendedEmojiNode} />;
```

#### Remove Node
To remove a Lexical node, pass a `remove` prop to the `<Paragraph.Node>` element:
```jsx apps/admin/src/App.tsx
<Paragraph.Node name={"emojiNode"} remove />
```

#### Position Node
To position your nodes, you can use `before` or `after` props on the `<Paragraph.Node>` element:
```jsx apps/admin/src/App.tsx
<Paragraph.Node name={"emojiNode"} node={EmojiNode} after={"newNode"} />;
<Paragraph.Node name={"newNode"} node={NewNode} before={"myExtendedEmojiNode"} />;
```
